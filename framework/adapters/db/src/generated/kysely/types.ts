import type { ColumnType } from "kysely";
export type Generated<T> = T extends ColumnType<infer S, infer I, infer U>
  ? ColumnType<S, I | undefined, U>
  : ColumnType<T, T | undefined, T>;
export type Timestamp = ColumnType<Date, Date | string, Date | string>;

export type EntitlementSnapshot = {
    id: string;
    tenant_id: string;
    principal_id: string;
    snapshot: unknown;
    expires_at: Timestamp;
    created_at: Generated<Timestamp>;
};
export type Group = {
    id: string;
    tenant_id: string;
    code: string;
    name: string;
    source_type: Generated<string>;
    source_ref: string | null;
    is_active: Generated<boolean>;
    created_at: Generated<Timestamp>;
    created_by: string;
};
export type GroupMember = {
    id: string;
    tenant_id: string;
    group_id: string;
    principal_id: string;
    valid_from: Timestamp | null;
    valid_until: Timestamp | null;
    created_at: Generated<Timestamp>;
    created_by: string;
};
export type IdpIdentity = {
    id: string;
    tenant_id: string;
    principal_id: string;
    realm: string;
    provider: string;
    subject: string;
    username: string | null;
    created_at: Generated<Timestamp>;
    created_by: string;
};
export type MetaAudit = {
    id: string;
    event_id: string;
    event_type: string;
    timestamp: Generated<Timestamp>;
    user_id: string;
    tenant_id: string;
    realm_id: string;
    action: string;
    resource: string;
    details: unknown | null;
    result: string;
    error_message: string | null;
};
export type MetaEntity = {
    id: string;
    name: string;
    description: string | null;
    active_version: string | null;
    created_at: Generated<Timestamp>;
    updated_at: Generated<Timestamp>;
    created_by: string;
};
export type MetaVersion = {
    id: string;
    entity_name: string;
    version: string;
    schema: unknown;
    is_active: Generated<boolean>;
    created_at: Generated<Timestamp>;
    created_by: string;
};
export type Operation = {
    id: string;
    namespace: string;
    code: string;
    sort_order: number | null;
    name: string;
    description: string | null;
    source_type: Generated<string>;
    source_ref: string | null;
    is_active: Generated<boolean>;
    created_at: Generated<Timestamp>;
    created_by: string;
    updated_at: Timestamp | null;
    updated_by: string | null;
};
export type OuNode = {
    id: string;
    tenant_id: string;
    parent_id: string | null;
    code: string;
    name: string;
    path: string;
    depth: Generated<number>;
    is_active: Generated<boolean>;
    created_at: Generated<Timestamp>;
    created_by: string;
};
export type PermissionDecisionLog = {
    id: string;
    tenant_id: string;
    occurred_at: Generated<Timestamp>;
    actor_principal_id: string | null;
    subject_snapshot: unknown | null;
    entity_name: string | null;
    entity_id: string | null;
    entity_version_id: string | null;
    operation_code: string;
    effect: string;
    matched_rule_id: string | null;
    matched_policy_version_id: string | null;
    reason: string | null;
    correlation_id: string | null;
};
export type PermissionPolicy = {
    id: string;
    tenant_id: string;
    name: string;
    description: string | null;
    scope_type: string;
    scope_key: string | null;
    source_type: Generated<string>;
    source_ref: string | null;
    is_active: Generated<boolean>;
    created_at: Generated<Timestamp>;
    created_by: string;
    updated_at: Timestamp | null;
    updated_by: string | null;
};
export type PermissionPolicyCompiled = {
    id: string;
    tenant_id: string;
    policy_version_id: string;
    compiled_json: unknown;
    compiled_hash: string;
    generated_at: Generated<Timestamp>;
    created_at: Generated<Timestamp>;
    created_by: string;
};
export type PermissionPolicyVersion = {
    id: string;
    tenant_id: string;
    permission_policy_id: string;
    version_no: Generated<number>;
    status: Generated<string>;
    published_at: Timestamp | null;
    published_by: string | null;
    created_at: Generated<Timestamp>;
    created_by: string;
};
export type PermissionRule = {
    id: string;
    tenant_id: string;
    policy_version_id: string;
    scope_type: string;
    scope_key: string | null;
    subject_type: string;
    subject_key: string;
    effect: string;
    conditions: unknown | null;
    priority: Generated<number>;
    is_active: Generated<boolean>;
    comment: string | null;
    created_at: Generated<Timestamp>;
    created_by: string;
};
export type PermissionRuleOperation = {
    id: string;
    tenant_id: string;
    permission_rule_id: string;
    operation_id: string;
    operation_constraints: unknown | null;
    created_at: Generated<Timestamp>;
    created_by: string;
};
export type Principal = {
    id: string;
    tenant_id: string;
    principal_type: string;
    status: Generated<string>;
    display_name: string | null;
    email: string | null;
    created_at: Generated<Timestamp>;
    created_by: string;
};
export type PrincipalAttribute = {
    id: string;
    tenant_id: string;
    principal_id: string;
    attr_key: string;
    attr_value: string;
    valid_from: Timestamp | null;
    valid_until: Timestamp | null;
    created_at: Generated<Timestamp>;
    created_by: string;
};
export type PrincipalProfile = {
    id: string;
    tenant_id: string;
    principal_id: string;
    locale: string | null;
    language: string | null;
    ui_prefs: unknown | null;
    avatar_url: string | null;
    created_at: Generated<Timestamp>;
    created_by: string;
    updated_at: Timestamp | null;
    updated_by: string | null;
};
export type Role = {
    id: string;
    tenant_id: string;
    code: string;
    name: string;
    scope_mode: Generated<string>;
    is_active: Generated<boolean>;
    created_at: Generated<Timestamp>;
    created_by: string;
};
export type RoleBinding = {
    id: string;
    tenant_id: string;
    role_id: string;
    principal_id: string | null;
    group_id: string | null;
    scope_kind: Generated<string>;
    scope_key: string | null;
    priority: Generated<number>;
    valid_from: Timestamp | null;
    valid_until: Timestamp | null;
    created_at: Generated<Timestamp>;
    created_by: string;
};
export type Tenant = {
    id: string;
    code: string;
    name: string;
    status: Generated<string>;
    region: string | null;
    subscription: Generated<string>;
    created_at: Generated<Timestamp>;
    created_by: string;
    updated_at: Timestamp | null;
    updated_by: string | null;
};
export type TenantProfile = {
    id: string;
    tenant_id: string;
    currency: string | null;
    locale: string | null;
    timezone: string | null;
    fiscal_year_start_month: number | null;
    security_defaults: unknown | null;
    created_at: Generated<Timestamp>;
    created_by: string;
    updated_at: Timestamp | null;
    updated_by: string | null;
};
export type DB = {
    "core.entitlement_snapshot": EntitlementSnapshot;
    "core.group": Group;
    "core.group_member": GroupMember;
    "core.idp_identity": IdpIdentity;
    "core.ou_node": OuNode;
    "core.permission_decision_log": PermissionDecisionLog;
    "core.principal": Principal;
    "core.principal_attribute": PrincipalAttribute;
    "core.principal_profile": PrincipalProfile;
    "core.role": Role;
    "core.role_binding": RoleBinding;
    "core.tenant": Tenant;
    "core.tenant_profile": TenantProfile;
    "meta.meta_audit": MetaAudit;
    "meta.meta_entities": MetaEntity;
    "meta.meta_versions": MetaVersion;
    "meta.operation": Operation;
    "meta.permission_policy": PermissionPolicy;
    "meta.permission_policy_compiled": PermissionPolicyCompiled;
    "meta.permission_policy_version": PermissionPolicyVersion;
    "meta.permission_rule": PermissionRule;
    "meta.permission_rule_operation": PermissionRuleOperation;
};
