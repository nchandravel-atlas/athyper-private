{
  "$schema": "./kernel.config.schema.json",
  "$comment": "Base/Default template. Not used directly — each environment has its own file (local, staging, production). This serves as a reference showing all available fields.",

  "env": "local",
  "mode": "api",
  "serviceName": "athyper-runtime",
  "port": 3000,

  "logLevel": "info",
  "shutdownTimeoutMs": 15000,

  "publicBaseUrl": "https://api.athyper.local",
  "publicWebUrl": "https://neon.athyper.local",

  "db": {
    "$comment": "LOCKED — values here are ignored. Set DATABASE_URL and DATABASE_ADMIN_URL in .env instead.",
    "url": "LOCKED_USE_ENV_VAR",
    "adminUrl": "LOCKED_USE_ENV_VAR",
    "poolMax": 10
  },

  "redis": {
    "$comment": "LOCKED — value here is ignored. Set REDIS_URL in .env instead.",
    "url": "LOCKED_USE_ENV_VAR"
  },

  "s3": {
    "$comment": "LOCKED — all s3 values here are ignored. Set S3_* env vars in .env instead.",
    "endpoint": "LOCKED_USE_ENV_VAR",
    "accessKey": "LOCKED_USE_ENV_VAR",
    "secretKey": "LOCKED_USE_ENV_VAR",
    "region": "us-east-1",
    "bucket": "athyper",
    "useSSL": false
  },

  "iam": {
    "strategy": "single_realm",
    "defaultRealmKey": "athyper",
    "defaultTenantKey": "default",
    "defaultOrgKey": null,
    "requireTenantClaimsInProd": false,
    "realms": {
      "athyper": {
        "iam": {
          "issuerUrl": "https://iam.mesh.athyper.local/realms/athyper",
          "clientId": "athyper-api",
          "clientSecretRef": "IAM_ATHYPER_CLIENT_SECRET"
        },
        "defaults": {
          "features": {
            "metaStudio": true,
            "debugMode": true
          },
          "policies": {
            "strictTenantIsolation": false
          }
        },
        "tenants": {
          "default": {
            "defaults": {
              "country": "US",
              "currency": "USD",
              "timezone": "UTC"
            },
            "orgs": {}
          }
        }
      }
    }
  },

  "telemetry": {
    "$comment": "LOCKED — otlpEndpoint and enabled are ignored from file. Set via env vars.",
    "enabled": true,
    "otlpEndpoint": "LOCKED_USE_ENV_VAR",
    "serviceName": "athyper-runtime",
    "serviceVersion": "1.0.0"
  }
}
