# =============================================
# Neon Web — Local Development Environment
# =============================================
# Copy this file to .env.local and adjust as needed:
#   cp .env.example .env.local
#
# PREREQUISITES:
#   1. Docker mesh running (cd mesh && docker compose --profile mesh up -d)
#   2. Hosts file entries (see below)
#   3. Keycloak realm imported (cd mesh/scripts && ./initdb-iam.sh)
#
# HOSTS FILE (add to C:\Windows\System32\drivers\etc\hosts or /etc/hosts):
#   127.0.0.1 gateway.mesh.athyper.local
#   127.0.0.1 iam.mesh.athyper.local
#   127.0.0.1 objectstorage.mesh.athyper.local
#   127.0.0.1 neon.athyper.local
#   127.0.0.1 api.athyper.local

# Environment
ENVIRONMENT=local

# Public URL (must match dev server port)
PUBLIC_BASE_URL=http://localhost:3001

# Redis (session storage)
# Use localhost when running outside Docker mesh
# Use memorycache:6379 when running inside Docker mesh
REDIS_URL=redis://:athyperadmin@localhost:6379/0

# Keycloak (IAM)
KEYCLOAK_BASE_URL=https://iam.mesh.athyper.local
KEYCLOAK_REALM=athyper
KEYCLOAK_CLIENT_ID=neon-web

# Runtime API (framework backend via gateway)
RUNTIME_API_URL=https://api.athyper.local

# Tenant
DEFAULT_TENANT_ID=default

# Debug (disable in production)
AUTH_DEBUG_EXPOSE_TOKENS=true

# TLS — accept self-signed certs from mesh gateway (LOCAL DEV ONLY)
NODE_TLS_REJECT_UNAUTHORIZED=0

# Dev stubs: return mock data when runtime API is unreachable (GET only)
ENABLE_DEV_STUBS=true
